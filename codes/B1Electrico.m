clear; clf; hold off;
xa=-3:0.2:3;
ya=-3:0.2:3;
k=1.; 
a = sqrt(3) * 1 / 2;
q  = [2, -1,   -2,    1,   -3,    1];
px = [0, -2, -0.5, -0.5, -1.5, -1.5];
py = [0,  0,    a,   -a,    a,   -a];
[x,y]=meshgrid(xa,ya);
Ex =    k*q(1)*(x - px(1))./((x - px(1)).^2+(y - py(1)).^2).^(1.5)+ ...
        k*q(2)*(x - px(2))./((x - px(2)).^2+(y - py(2)).^2).^(1.5)+ ...
        k*q(3)*(x - px(3))./((x - px(3)).^2+(y - py(3)).^2).^(1.5)+ ...
        k*q(4)*(x - px(4))./((x - px(4)).^2+(y - py(4)).^2).^(1.5)+ ...
        k*q(5)*(x - px(5))./((x - px(5)).^2+(y - py(5)).^2).^(1.5)+ ...
        k*q(6)*(x - px(6))./((x - px(6)).^2+(y - py(6)).^2).^(1.5);
Ey =    k*q(1)*(y - py(1))./((x - px(1)).^2+(y - py(1)).^2).^(1.5)+ ...
        k*q(2)*(y - py(2))./((x - px(2)).^2+(y - py(2)).^2).^(1.5)+ ...
        k*q(3)*(y - py(3))./((x - px(3)).^2+(y - py(3)).^2).^(1.5)+ ...
        k*q(4)*(y - py(4))./((x - px(4)).^2+(y - py(4)).^2).^(1.5)+ ...
        k*q(5)*(y - py(5))./((x - px(5)).^2+(y - py(5)).^2).^(1.5)+ ...
        k*q(6)*(y - py(6))./((x - px(6)).^2+(y - py(6)).^2).^(1.5);
hold on
plot(px(1),py(1),'b*')
plot(px(2),py(2),'r*')
plot(px(3),py(3),'r*')
plot(px(4),py(4),'b*')
plot(px(5),py(5),'r*')
plot(px(6),py(6),'b*')

quiver(x,y,Ex,Ey); axis square